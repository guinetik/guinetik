import{t as o,i as h,d as b,s as f,a as _}from"./icons.a6b9b96e.js";import{u as $,o as p}from"./index.3156d5a4.js";import{d as v,g as w,e as d,i as x,o as y,a as g}from"./vendor.ec578dfb.js";const k=o('<img width="960" height="500" decoding="async" loading="eager" fetchpriority="high" class="w-full h-full sm:h-[400px] md:h-[500px] lg:h-[580px] xl:h-[600px] 2xl:h-[680px] object-cover">'),E=o('<div class="absolute inset-0 bg-gradient-to-br from-primary/20 via-secondary/20 to-accent/20 flex items-center justify-center"><div class="text-center p-8"><div class="loading loading-spinner loading-lg text-primary mb-4"></div><h3 class="text-2xl font-bold text-base-content mb-2"></h3><p class="text-base-content/70">Loading interactive demo...</p></div></div>'),S=o('<iframe height="100%" width="100%" class="absolute top-[-68px] w-full h-[calc(100%+68px)] border-none overflow-hidden overscroll-none" scrolling="no" allowfullscreen></iframe>'),N=o('<div class="relative h-full overflow-hidden overscroll-none"></div>'),C=o('<div class="absolute -top-10 transition-all group-hover:top-2 left-5 right-6 flex gap-2 items-center"><kbd class="text-white text-sm kbd glass shadow-md flex-1 justify-start"><span class="drop-shadow-md text-left"></span></kbd><button class="btn btn-sm glass shadow-md bg-base-100/80 hover:bg-base-100 border-base-300" title="Load another random experiment">\u{1F3B2} Shuffle</button><a target="_blank" class="btn btn-sm glass shadow-md bg-base-100/80 hover:bg-base-100 border-base-300">\u{1F4BB} View Source</a></div>'),I=o('<div class="w-full h-full sm:h-[400px] md:h-[500px] lg:h-[580px] xl:h-[600px] 2xl:h-[680px] bg-neutral"></div>'),L=o('<section id="section_experiment" class="w-full relative group"></section>'),M=o('<div class="w-full h-full sm:h-[400px] md:h-[500px] lg:h-[580px] xl:h-[600px] 2xl:h-[680px] bg-neutral flex items-center justify-center"><div class="loading loading-spinner loading-lg text-primary"></div></div>'),j=n=>{const[c,m]=v(!1);let s;return y(()=>{n.exp.type==="codepen"&&s&&("requestIdleCallback"in window?requestIdleCallback(()=>{p(s,()=>{m(!0)},{rootMargin:"400px"})},{timeout:2e3}):setTimeout(()=>{p(s,()=>{m(!0)},{rootMargin:"400px"})},100))}),(()=>{const a=I.cloneNode(!0),r=s;return typeof r=="function"?r(a):s=a,h(a,d(x,{get when(){return n.exp&&n.exp.type},get children(){return[d(x,{get when(){return n.exp.type==="img"},get children(){const l=k.cloneNode(!0);return g(e=>{const t=n.exp.title,i=n.exp.url;return t!==e._v$&&f(l,"alt",e._v$=t),i!==e._v$2&&f(l,"src",e._v$2=i),e},{_v$:void 0,_v$2:void 0}),l}}),d(x,{get when(){return n.exp.type==="codepen"},get children(){const l=N.cloneNode(!0);return h(l,d(x,{get when(){return!c()},get children(){const e=E.cloneNode(!0),t=e.firstChild,i=t.firstChild,u=i.nextSibling;return h(u,()=>n.exp.title),e}}),null),h(l,d(x,{get when(){return c()},get children(){const e=S.cloneNode(!0);return g(t=>{const i=n.exp.title,u=n.exp.url;return i!==t._v$3&&f(e,"title",t._v$3=i),u!==t._v$4&&f(e,"src",t._v$4=u),t},{_v$3:void 0,_v$4:void 0}),e}}),null),l}}),(()=>{const l=C.cloneNode(!0),e=l.firstChild,t=e.firstChild,i=e.nextSibling,u=i.nextSibling;return h(t,()=>n.exp.title),_(i,"click",n.onShuffle,!0),g(()=>f(u,"href",n.exp.link)),l})()]}})),a})()},A=()=>{const n=$(),[c,m]=v({});let s=!1;const a=()=>{const r=n.data();if(r&&r.experiments&&r.experiments.length>0){const l=r.experiments,e=c();if(l.length===1){m(l[0]);return}let t;do{const i=Math.floor(Math.random()*l.length);t=l[i]}while(t.title===e.title&&l.length>1);console.log("\u{1F3B2} Shuffled to:",t.title),m(t)}};return w(()=>{const r=n.data();!s&&r&&r.experiments&&r.experiments.length>0&&(a(),s=!0)}),(()=>{const r=L.cloneNode(!0);return h(r,d(x,{get when(){return c().type},get fallback(){return M.cloneNode(!0)},get children(){return d(j,{get exp(){return c()},onShuffle:a})}})),r})()};b(["click"]);export{A as default};
